# Benchmark suite for SuperKMeans

# Common benchmark dependencies
set(BENCH_COMMON_LIBS
    ${BLAS_LINK_LIBRARIES}
    faiss
)

if (FFTW_FOUND)
    list(APPEND BENCH_COMMON_LIBS ${FFTW_FLOAT_LIB} ${FFTW_FLOAT_THREADS_LIB})
endif()

# Main benchmark: KMeans performance with synthetic data (vs FAISS)
add_executable(bench_kmeans.out bench_kmeans.cpp)
target_link_libraries(bench_kmeans.out PRIVATE ${BENCH_COMMON_LIBS})

# Real datasets benchmark (requires dataset files generated by bench_gen.py)
add_executable(bench_real_datasets.out bench_real_datasets.cpp)
target_link_libraries(bench_real_datasets.out PRIVATE ${BENCH_COMMON_LIBS})
